(()=>{"use strict";var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};async function t(e,t,n){let o=!0,r=await async function(e){let t=`https://openlibrary.org${e}.json`;return await axios.get(t).then((e=>e.data.description)).catch((e=>console.error(e)))}(n);const s=document.createElement("li");a.append(s),s.classList.add("card","mb-3");const c=document.createElement("h3");c.innerHTML=e,s.append(c),c.classList.add("card-header");const d=document.createElement("p");d.innerHTML="Authors: "+t,s.append(d),d.classList.add("card-header");const i=document.createElement("button");i.innerHTML="🔽",c.append(i),i.classList.add("float-right"),i.addEventListener("click",(()=>{o?(l.classList.remove("hide"),i.innerHTML="❌",o=!1):(l.classList.add("hide"),i.innerHTML="🔽",o=!0)}));const l=document.createElement("div"),p=document.createElement("h4");p.innerHTML="Description",l.append(p);const m=document.createElement("p");r=function(e){return"object"==typeof e?e=e.value:void 0===e&&(e="Sorry! We can't find the book's description"),e.split("---")[0]}(r),m.innerHTML=r,l.append(m),s.append(l),l.classList.add("hide","card-text","p-4")}e.d({},{Z:()=>a});let n="";const a=document.getElementById("bookList");let o="";const r=document.getElementById("mainForm"),s=r.elements.searchBar;r.addEventListener("submit",(e=>{if(e.preventDefault(),o=s.value,""!=o)for(function(e){let a=`https://openlibrary.org/subjects/${e}.json`;axios.get(a).then((e=>{for(let a of e.data.works){let e="";n=a.title;for(let t of a.authors)e+=t.name+", ";e=e.slice(0,-2),e+=".";let o=a.key;t(n,e,o)}})).catch((e=>console.error(e)))}(o);a.lastChild;)a.removeChild(a.lastChild);else alert("You need to write a subject before searching")}))})();